import{a as L,b as T,c as V,d as q,e as N,f as W,g as P,h as A,i as j,j as X}from"./chunk-ZJK3IXIP.js";import{A as p,D as s,F as n,G as i,H as Z,I as x,J as b,K as _,L as u,M as m,N as h,O as v,P as C,W as R,X as K,Y as Q,ba as I,ca as F,da as k,i as G,j as S,l as J,n as c,o as f,t as a,v as w,w as M,x as E}from"./chunk-RD2YHIZA.js";var y=class e{constructor(r){this.http=r}apiUrl="http://localhost:3000/users";register(r){return this.http.post(`${this.apiUrl}`,r)}login(r,t){return this.http.get(`${this.apiUrl}`)}static \u0275fac=function(t){return new(t||e)(J(Q))};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})};function re(e,r){e&1&&(n(0,"small"),m(1,"Email is required."),i())}function oe(e,r){e&1&&(n(0,"small"),m(1,"Enter a valid email."),i())}function ae(e,r){if(e&1&&(n(0,"div"),p(1,re,2,0,"small",5)(2,oe,2,0,"small",5),i()),e&2){_();let t=u(7);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",t.errors==null?null:t.errors.pattern)}}function le(e,r){e&1&&(n(0,"small"),m(1,"Password is required."),i())}function me(e,r){e&1&&(n(0,"small"),m(1,"Minimum 6 characters required."),i())}function se(e,r){if(e&1&&(n(0,"div"),p(1,le,2,0,"small",5)(2,me,2,0,"small",5),i()),e&2){_();let t=u(13);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",t.errors==null?null:t.errors.minlength)}}var B=class e{constructor(r,t){this.authService=r;this.router=t}email="";password="";login(){if(!this.email||!this.password){alert("Please fill in all fields correctly.");return}this.authService.login(this.email,this.password).subscribe(r=>{let t=r.find(l=>l.email===this.email&&l.password===this.password);t?(localStorage.setItem("user",JSON.stringify(t)),alert("Login Successful!"),this.router.navigate(["/dashboard"])):alert("Invalid email or password.")},r=>{console.error("Login failed:",r),alert("Login Failed. Try again.")})}static \u0275fac=function(t){return new(t||e)(w(y),w(I))};static \u0275cmp=M({type:e,selectors:[["app-login"]],standalone:!1,decls:20,vars:4,consts:[["loginForm","ngForm"],["emailField","ngModel"],["passwordField","ngModel"],[3,"ngSubmit"],["type","email","name","email","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","password","name","password","required","","minlength","6",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["routerLink","/auth/register"]],template:function(t,l){if(t&1){let d=x();n(0,"h2"),m(1,"Login"),i(),n(2,"form",3,0),b("ngSubmit",function(){return c(d),f(l.login())}),n(4,"label"),m(5,"Email:"),i(),n(6,"input",4,1),C("ngModelChange",function(o){return c(d),v(l.email,o)||(l.email=o),f(o)}),i(),p(8,ae,3,2,"div",5),Z(9,"br"),n(10,"label"),m(11,"Password:"),i(),n(12,"input",6,2),C("ngModelChange",function(o){return c(d),v(l.password,o)||(l.password=o),f(o)}),i(),p(14,se,3,2,"div",5),Z(15,"br"),n(16,"button",7),m(17,"Login"),i()(),n(18,"a",8),m(19,"Don't have an account? Register"),i()}if(t&2){let d=u(7),g=u(13);a(6),h("ngModel",l.email),a(2),s("ngIf",d.invalid&&d.touched),a(4),h("ngModel",l.password),a(2),s("ngIf",g.invalid&&g.touched)}},dependencies:[R,F,W,L,T,V,P,A,j,N,q],encapsulation:2})};function de(e,r){e&1&&(n(0,"small"),m(1,"Name is required."),i())}function pe(e,r){if(e&1&&(n(0,"div",19),p(1,de,2,0,"small",20),i()),e&2){_();let t=u(8);a(),s("ngIf",t.errors==null?null:t.errors.required)}}function ue(e,r){e&1&&(n(0,"small"),m(1,"Username is required."),i())}function ge(e,r){if(e&1&&(n(0,"div",19),p(1,ue,2,0,"small",20),i()),e&2){_();let t=u(14);a(),s("ngIf",t.errors==null?null:t.errors.required)}}function ce(e,r){e&1&&(n(0,"small"),m(1,"Email is required."),i())}function fe(e,r){e&1&&(n(0,"small"),m(1,"Enter a valid email."),i())}function _e(e,r){if(e&1&&(n(0,"div",19),p(1,ce,2,0,"small",20)(2,fe,2,0,"small",20),i()),e&2){_();let t=u(20);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",t.errors==null?null:t.errors.pattern)}}function he(e,r){e&1&&(n(0,"small"),m(1,"Phone number is required."),i())}function ve(e,r){e&1&&(n(0,"small"),m(1,"Enter a valid 10-digit phone number."),i())}function Ce(e,r){if(e&1&&(n(0,"div",19),p(1,he,2,0,"small",20)(2,ve,2,0,"small",20),i()),e&2){_();let t=u(26);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",t.errors==null?null:t.errors.pattern)}}function we(e,r){e&1&&(n(0,"small"),m(1,"Password is required."),i())}function ye(e,r){e&1&&(n(0,"small"),m(1,"Minimum 6 characters required."),i())}function Se(e,r){if(e&1&&(n(0,"div",19),p(1,we,2,0,"small",20)(2,ye,2,0,"small",20),i()),e&2){_();let t=u(32);a(),s("ngIf",t.errors==null?null:t.errors.required),a(),s("ngIf",t.errors==null?null:t.errors.minlength)}}var z=class e{constructor(r,t){this.authService=r;this.router=t}name="";username="";email="";phone="";password="";register(){if(!this.name||!this.username||!this.email||!this.phone||!this.password){alert("Please fill all required fields correctly.");return}let r={name:this.name,username:this.username,email:this.email,phone:this.phone,password:this.password};this.authService.register(r).subscribe(t=>{alert("Registration Successful!"),this.router.navigate(["/auth/login"])},t=>{console.error("Registration failed:",t),alert("Registration Failed. Try again.")})}static \u0275fac=function(t){return new(t||e)(w(y),w(I))};static \u0275cmp=M({type:e,selectors:[["app-register"]],standalone:!1,decls:39,vars:10,consts:[["registerForm","ngForm"],["nameField","ngModel"],["usernameField","ngModel"],["emailField","ngModel"],["phoneField","ngModel"],["passwordField","ngModel"],[1,"text-center"],[1,"container","p-4","border","rounded","shadow-lg","w-50",3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["type","text","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","phone","required","","pattern","^[0-9]{10}$",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-center","mt-3"],["routerLink","/auth/login",1,"text-decoration-none"],[1,"text-danger"],[4,"ngIf"]],template:function(t,l){if(t&1){let d=x();n(0,"h2",6),m(1,"Register"),i(),n(2,"form",7,0),b("ngSubmit",function(){return c(d),f(l.register())}),n(4,"div",8)(5,"label",9),m(6,"Name:"),i(),n(7,"input",10,1),C("ngModelChange",function(o){return c(d),v(l.name,o)||(l.name=o),f(o)}),i(),p(9,pe,2,1,"div",11),i(),n(10,"div",8)(11,"label",9),m(12,"Username:"),i(),n(13,"input",12,2),C("ngModelChange",function(o){return c(d),v(l.username,o)||(l.username=o),f(o)}),i(),p(15,ge,2,1,"div",11),i(),n(16,"div",8)(17,"label",9),m(18,"Email:"),i(),n(19,"input",13,3),C("ngModelChange",function(o){return c(d),v(l.email,o)||(l.email=o),f(o)}),i(),p(21,_e,3,2,"div",11),i(),n(22,"div",8)(23,"label",9),m(24,"Phone:"),i(),n(25,"input",14,4),C("ngModelChange",function(o){return c(d),v(l.phone,o)||(l.phone=o),f(o)}),i(),p(27,Ce,3,2,"div",11),i(),n(28,"div",8)(29,"label",9),m(30,"Password:"),i(),n(31,"input",15,5),C("ngModelChange",function(o){return c(d),v(l.password,o)||(l.password=o),f(o)}),i(),p(33,Se,3,2,"div",11),i(),n(34,"button",16),m(35,"Register"),i()(),n(36,"div",17)(37,"a",18),m(38,"Already have an account? Login"),i()()}if(t&2){let d=u(8),g=u(14),o=u(20),O=u(26),H=u(32);a(7),h("ngModel",l.name),a(2),s("ngIf",d.invalid&&d.touched),a(4),h("ngModel",l.username),a(2),s("ngIf",g.invalid&&g.touched),a(4),h("ngModel",l.email),a(2),s("ngIf",o.invalid&&o.touched),a(4),h("ngModel",l.phone),a(2),s("ngIf",O.invalid&&O.touched),a(4),h("ngModel",l.password),a(2),s("ngIf",H.invalid&&H.touched)}},dependencies:[R,F,W,L,T,V,P,A,j,N,q],encapsulation:2})};var Me=[{path:"login",component:B},{path:"register",component:z}],U=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=E({type:e});static \u0275inj=S({imports:[k.forChild(Me),k]})};var $=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=E({type:e});static \u0275inj=S({imports:[K,U,X]})};export{$ as AuthModule};
